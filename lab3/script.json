
const palettes = [ // –ú–∞—Å–∏–≤ –æ–±'—î–∫—Ç—ñ–≤ –∑ –¥–∞–Ω–∏–º–∏ –ø–∞–ª—ñ—Ç—Ä
  {
    "paletteName": "Material UI Colors", // –ù–∞–∑–≤–∞ –ø–∞–ª—ñ—Ç—Ä–∏
    "id": "material-ui-colors", // –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä
    "emoji": "üé®", // Emoji –¥–ª—è –ø–∞–ª—ñ—Ç—Ä–∏
    "colors": [ // –ú–∞—Å–∏–≤ –∫–æ–ª—å–æ—Ä—ñ–≤ –∑ –Ω–∞–∑–≤–∞–º–∏ —Ç–∞ hex-–∫–æ–¥–∞–º–∏
      { "name": "red", "color": "#F44336" },
      { "name": "pink", "color": "#E91E63" },
      { "name": "purple", "color": "#9C27B0" },
      { "name": "deeppurple", "color": "#673AB7" },
      { "name": "indigo", "color": "#3F51B5" },
      { "name": "blue", "color": "#2196F3" },
      { "name": "lightblue", "color": "#03A9F4" },
      { "name": "cyan", "color": "#00BCD4" },
      { "name": "teal", "color": "#009688" },
      { "name": "green", "color": "#4CAF50" },
      { "name": "lightgreen", "color": "#8BC34A" },
      { "name": "lime", "color": "#CDDC39" },
      { "name": "yellow", "color": "#FFEB3B" },
      { "name": "amber", "color": "#FFC107" },
      { "name": "orange", "color": "#FF9800" },
      { "name": "deeporange", "color": "#FF5722" },
      { "name": "brown", "color": "#795548" },
      { "name": "grey", "color": "#9E9E9E" },
      { "name": "bluegrey", "color": "#607D8B" }
    ]
  },
  {
    "paletteName": "Flat UI Colors v1",
    "id": "flat-ui-colors-v1",
    "emoji": "ü§ô",
    "colors": [
      { "name": "Turquoise", "color": "#1abc9c" },
      { "name": "Emerald", "color": "#2ecc71" },
      { "name": "PeterRiver", "color": "#3498db" },
      { "name": "Amethyst", "color": "#9b59b6" },
      { "name": "WetAsphalt", "color": "#34495e" },
      { "name": "GreenSea", "color": "#16a085" },
      { "name": "Nephritis", "color": "#27ae60" },
      { "name": "BelizeHole", "color": "#2980b9" },
      { "name": "Wisteria", "color": "#8e44ad" },
      { "name": "MidnightBlue", "color": "#2c3e50" },
      { "name": "SunFlower", "color": "#f1c40f" },
      { "name": "Carrot", "color": "#e67e22" },
      { "name": "Alizarin", "color": "#e74c3c" },
      { "name": "Clouds", "color": "#ecf0f1" },
      { "name": "Concrete", "color": "#95a5a6" },
      { "name": "Orange", "color": "#f39c12" },
      { "name": "Pumpkin", "color": "#d35400" },
      { "name": "Pomegranate", "color": "#c0392b" },
      { "name": "Silver", "color": "#bdc3c7" },
      { "name": "Asbestos", "color": "#7f8c8d" }
    ]
  },
  {
    "paletteName": "Flat UI Colors Dutch",
    "id": "flat-ui-colors-dutch",
    "emoji": "üòé",
    "colors": [
      { "name": "Sunflower", "color": "#FFC312" },
      { "name": "Energos", "color": "#C4E538" },
      { "name": "BlueMartina", "color": "#12CBC4" },
      { "name": "LavenderRose", "color": "#FDA7DF" },
      { "name": "BaraRose", "color": "#ED4C67" },
      { "name": "RadiantYellow", "color": "#F79F1F" },
      { "name": "AndroidGreen", "color": "#A3CB38" },
      { "name": "MediterraneanSea", "color": "#1289A7" },
      { "name": "LavenderTea", "color": "#D980FA" },
      { "name": "VerryBerry", "color": "#B53471" },
      { "name": "PuffinsBill", "color": "#EE5A24" },
      { "name": "PixelatedGrass", "color": "#009432" },
      { "name": "MerchantMarineBlue", "color": "#0652DD" },
      { "name": "ForgottenPurple", "color": "#9980FA" },
      { "name": "HollyHock", "color": "#833471" },
      { "name": "RedPigment", "color": "#EA2027" },
      { "name": "TurkishAqua", "color": "#006266" },
      { "name": "20000LeaguesUnderTheSea", "color": "#1B1464" },
      { "name": "CircumorbitalRing", "color": "#5758BB" },
      { "name": "MagentaPurple", "color": "#6F1E51" }
    ]
  },
  {
    "paletteName": "Flat UI Colors American",
    "id": "flat-ui-colors-american",
    "emoji": "ü§î",
    "colors": [
      { "name": "LightGreenishBlue", "color": "#55efc4" },
      { "name": "FadedPoster", "color": "#81ecec" },
      { "name": "GreenDarnerTail", "color": "#74b9ff" },
      { "name": "ShyMoment", "color": "#a29bfe" },
      { "name": "CityLights", "color": "#dfe6e9" },
      { "name": "MintLeaf", "color": "#00b894" },
      { "name": "RobinsEggBlue", "color": "#00cec9" },
      { "name": "ElectronBlue", "color": "#0984e3" },
      { "name": "ExodusFruit", "color": "#6c5ce7" },
      { "name": "SoothingBreeze", "color": "#b2bec3" },
      { "name": "SourLemon", "color": "#ffeaa7" },
      { "name": "FirstDate", "color": "#fab1a0" },
      { "name": "PinkGlamour", "color": "#ff7675" },
      { "name": "Pico8Pink", "color": "#fd79a8" },
      { "name": "AmericanRiver", "color": "#636e72" },
      { "name": "BrightYarrow", "color": "#fdcb6e" },
      { "name": "OrangeVille", "color": "#e17055" },
      { "name": "Chi-Gong", "color": "#d63031" },
      { "name": "PrunusAvium", "color": "#e84393" },
      { "name": "DraculaOrchid", "color": "#2d3436" }
    ]
  },
  {
    "paletteName": "Flat UI Colors Aussie",
    "id": "flat-ui-colors-aussie",
    "emoji": "üòç",
    "colors": [
      { "name": "Beekeeper", "color": "#f6e58d" },
      { "name": "SpicedNectarine", "color": "#ffbe76" },
      { "name": "PinkGlamour", "color": "#ff7979" },
      { "name": "JuneBud", "color": "#badc58" },
      { "name": "CoastalBreeze", "color": "#dff9fb" },
      { "name": "Turbo", "color": "#f9ca24" },
      { "name": "QuinceJelly", "color": "#f0932b" },
      { "name": "CarminePink", "color": "#eb4d4b" },
      { "name": "PureApple", "color": "#6ab04c" },
      { "name": "HintOfIcePack", "color": "#c7ecee" },
      { "name": "MiddleBlue", "color": "#7ed6df" },
      { "name": "Heliotrope", "color": "#e056fd" },
      { "name": "ExodusFruit", "color": "#686de0" },
      { "name": "DeepKoamaru", "color": "#30336b" },
      { "name": "SoaringEagle", "color": "#95afc0" },
      { "name": "GreenlandGreen", "color": "#22a6b3" },
      { "name": "SteelPink", "color": "#be2edd" },
      { "name": "Blurple", "color": "#4834d4" },
      { "name": "DeepCove", "color": "#130f40" },
      { "name": "WizardGrey", "color": "#535c68" }
    ]
  },
  {
    "paletteName": "Flat UI Colors British",
    "id": "flat-ui-colors-british",
    "emoji": "üòî",
    "colors": [
      { "name": "ProtossPylon", "color": "#00a8ff" },
      { "name": "Periwinkle", "color": "#9c88ff" },
      { "name": "Rise-N-Shine", "color": "#fbc531" },
      { "name": "DownloadProgress", "color": "#4cd137" },
      { "name": "Seabrook", "color": "#487eb0" },
      { "name": "VanaDylBlue", "color": "#0097e6" },
      { "name": "MattPurple", "color": "#8c7ae6" },
      { "name": "NanohanachaGold", "color": "#e1b12c" },
      { "name": "SkirretGreen", "color": "#44bd32" },
      { "name": "Naval", "color": "#40739e" },
      { "name": "NasturcianFlower", "color": "#e84118" },
      { "name": "LynxWhite", "color": "#f5f6fa" },
      { "name": "BlueberrySoda", "color": "#7f8fa6" },
      { "name": "MazarineBlue", "color": "#273c75" },
      { "name": "BlueNights", "color": "#353b48" },
      { "name": "HarleyOrange", "color": "#c23616" },
      { "name": "HintOfPensive", "color": "#dcdde1" },
      { "name": "ChainGangGrey", "color": "#718093" },
      { "name": "PicoVoid", "color": "#192a56" },
      { "name": "ElectroMagnetic", "color": "#2f3640" }
    ]
  },
  {
    "paletteName": "Flat UI Colors Spanish",
    "id": "flat-ui-colors-spanish",
    "emoji": "üò™",
    "colors": [
      { "name": "JacksonsPurple", "color": "#40407a" },
      { "name": "C64Purple", "color": "#706fd3" },
      { "name": "SwanWhite", "color": "#f7f1e3" },
      { "name": "SummerSky", "color": "#34ace0" },
      { "name": "CelestialGreen", "color": "#33d9b2" },
      { "name": "LuckyPoint", "color": "#2c2c54" },
      { "name": "Liberty", "color": "#474787" },
      { "name": "HotStone", "color": "#aaa69d" },
      { "name": "DevilBlue", "color": "#227093" },
      { "name": "PalmSpringsSplash", "color": "#218c74" },
      { "name": "FlourescentRed", "color": "#ff5252" },
      { "name": "SyntheticPumpkin", "color": "#ff793f" },
      { "name": "CrocodileTooth", "color": "#d1ccc0" },
      { "name": "MandarinSorbet", "color": "#ffb142" },
      { "name": "SpicedButterNut", "color": "#ffda79" },
      { "name": "EyeOfNewt", "color": "#b33939" },
      { "name": "ChileanFire", "color": "#cd6133" },
      { "name": "GreyPorcelain", "color": "#84817a" },
      { "name": "AlamedaOchre", "color": "#cc8e35" },
      { "name": "Desert", "color": "#ccae62" }
    ]
  },
  {
    "paletteName": "Flat UI Colors Indian",
    "id": "flat-ui-colors-indian",
    "emoji": "üòö",
    "colors": [
      { "name": "OrchidOrange", "color": "#FEA47F" },
      { "name": "SpiroDiscoBall", "color": "#25CCF7" },
      { "name": "HoneyGlow", "color": "#EAB543" },
      { "name": "SweetGarden", "color": "#55E6C1" },
      { "name": "FallingStar", "color": "#CAD3C8" },
      { "name": "RichGardenia", "color": "#F97F51" },
      { "name": "ClearChill", "color": "#1B9CFC" },
      { "name": "WhitePepper", "color": "#F8EFBA" },
      { "name": "Keppel", "color": "#58B19F" },
      { "name": "ShipsOfficer", "color": "#2C3A47" },
      { "name": "FieryFuchsia", "color": "#B33771" },
      { "name": "BlueBell", "color": "#3B3B98" },
      { "name": "GeorgiaPeach", "color": "#FD7272" },
      { "name": "OasisStream", "color": "#9AECDB" },
      { "name": "BrightUbe", "color": "#D6A2E8" },
      { "name": "MagentaPurple", "color": "#6D214F" },
      { "name": "EndingNavyBlue", "color": "#182C61" },
      { "name": "SasquatchSocks", "color": "#FC427B" },
      { "name": "PineGlade", "color": "#BDC581" },
      { "name": "HighlighterLavender", "color": "#82589F" }
    ]
  },
  {
    "paletteName": "Flat UI Colors French",
    "id": "flat-ui-colors-french",
    "emoji": "üò£",
    "colors": [
      { "name": "FlatFlesh", "color": "#fad390" },
      { "name": "MelonMelody", "color": "#f8c291" },
      { "name": "Livid", "color": "#6a89cc" },
      { "name": "Spray", "color": "#82ccdd" },
      { "name": "ParadiseGreen", "color": "#b8e994" },
      { "name": "SquashBlossom", "color": "#f6b93b" },
      { "name": "MandarinRed", "color": "#e55039" },
      { "name": "AzraqBlue", "color": "#4a69bd" },
      { "name": "Dupain", "color": "#60a3bc" },
      { "name": "AuroraGreen", "color": "#78e08f" },
      { "name": "IcelandPoppy", "color": "#fa983a" },
      { "name": "TomatoRed", "color": "#eb2f06" },
      { "name": "YueGuangBlue", "color": "#1e3799" },
      { "name": "GoodSamaritan", "color": "#3c6382" },
      { "name": "Waterfall", "color": "#38ada9" },
      { "name": "CarrotOrange", "color": "#e58e26" },
      { "name": "JalapenoRed", "color": "#b71540" },
      { "name": "DarkSapphire", "color": "#0c2461" },
      { "name": "ForestBlues", "color": "#0a3d62" },
      { "name": "ReefEncounter", "color": "#079992" }
    ]
  }
]; // –ö—ñ–Ω–µ—Ü—å –º–∞—Å–∏–≤—É –ø–∞–ª—ñ—Ç—Ä

// –û—Ç—Ä–∏–º—É—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –∑ DOM
const paletteView = document.getElementById('paletteView');
const colorView = document.getElementById('colorView');
const colorBoxes = document.getElementById('colorBoxes');
const paletteFooter = document.getElementById('paletteFooter');

const colorBackButton = document.getElementById('colorBackButton');
const formatSelect = document.getElementById('formatSelect');
const soundToggle = document.getElementById('soundToggle');

const fullscreenOverlay = document.getElementById('fullscreenOverlay');
const colorCodeDisplay = document.getElementById('colorCodeDisplay');
const clickSound = document.getElementById('clickSound');


// –ü–æ–∫–∞–∑—É—î–º–æ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –ø–∞–ª—ñ—Ç—Ä
function showPalettes() {
  paletteView.innerHTML = ''; // –û—á–∏—â—É—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–ª—ñ—Ç—Ä

  // –ü—Ä–æ—Ö–æ–¥–∏–º–æ –ø–æ –∫–æ–∂–Ω—ñ–π –ø–∞–ª—ñ—Ç—Ä—ñ —Ç–∞ —Å—Ç–≤–æ—Ä—é—î–º–æ –±–ª–æ–∫
  palettes.forEach(palette => {
    const div = document.createElement('div');
    div.className = 'palette';
    div.innerHTML = `<h3>${palette.emoji} ${palette.paletteName}</h3>`;
    
    // –ü—Ä–µ–≤'—é –ø–µ—Ä—à–∏—Ö 5 –∫–æ–ª—å–æ—Ä—ñ–≤
    const preview = document.createElement('div');
    palette.colors.slice(0, 20).forEach(c => {
      const swatch = document.createElement('div');
      swatch.className = 'color-swatch';
      swatch.style.backgroundColor = c.color;
      preview.appendChild(swatch);
    });
    div.appendChild(preview);

    // –ü—Ä–∏ –∫–ª—ñ–∫—É –≤—ñ–¥–∫—Ä–∏–≤–∞—î–º–æ –µ–∫—Ä–∞–Ω –∫–æ–ª—å–æ—Ä—ñ–≤
    div.addEventListener('click', () => showColors(palette));
    paletteView.appendChild(div);
  });
  
  paletteView.style.display = 'flex';
  colorView.style.display = 'none';
}

// –ü–æ–∫–∞–∑—É—î–º–æ –∫–æ–ª—å–æ—Ä–∏ –≤–∏–±—Ä–∞–Ω–æ—ó –ø–∞–ª—ñ—Ç—Ä–∏
function showColors(palette) {
  // –û—á–∏—â—É—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å–ø–∏—Å–æ–∫ –∫–æ–ª—å–æ—Ä—ñ–≤
  colorBoxes.innerHTML = '';
  
  // –ó–∞–ø–∏—Å—É—î–º–æ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∞–≤—Ç–æ—Ä–∞/–¥–∂–µ—Ä–µ–ª–æ –≤ —Ñ—É—Ç–µ—Ä (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
  paletteFooter.textContent = `${palette.paletteName} by ${palette.emoji || "Unknown"}`;

  // –ü–æ–∫–∞–∑—É—î–º–æ –µ–∫—Ä–∞–Ω –∫–æ–ª—å–æ—Ä—ñ–≤
  paletteView.style.display = 'none';
  colorView.style.display = 'block';

  // –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–ª—å–æ—Ä—É —Å—Ç–≤–æ—Ä—é—î–º–æ –±–ª–æ–∫
  palette.colors.forEach(c => {
    const box = document.createElement('div');
    box.className = 'color-box';
    box.style.backgroundColor = c.color;
    box.innerHTML = `<span>${c.color}</span>`;
    
    // –ü—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ –∫–æ–ª—ñ—Ä - –≤–∏–∫–ª–∏–∫–∞—î–º–æ selectColor
    box.addEventListener('click', () => selectColor(c));
    colorBoxes.appendChild(box);
  });
}

// –û–±—Ä–æ–±–∫–∞ –≤–∏–±–æ—Ä—É –∫–æ–ª—å–æ—Ä—É
function selectColor(colorObj) {
  // –ó–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –≤–∏–±—Ä–∞–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç—É –≤–∏–≤–æ–¥–∏–º–æ HEX / RGB / RGBA 
  const selectedFormat = formatSelect.value;
  let displayValue = colorObj.color; // –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º - HEX

  if (selectedFormat === 'rgb') {
    // –ö–æ–Ω–≤–µ—Ä—Ç—É—î–º–æ hex —É rgb
    displayValue = hexToRgb(colorObj.color);
  } else if (selectedFormat === 'rgba') {
    const rgb = hexToRgb(colorObj.color);
    displayValue = rgb.replace('rgb', 'rgba').replace(')', ', 1)');
  } else if (selectedFormat === 'hsl') {
    displayValue = hexToHsl(colorObj.color);
  }
  // (–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ–æ—Ä–º–∞—Ç–∏ - –º–æ–∂–Ω–∞ –¥–æ–ø–∏—Å–∞—Ç–∏)

  // –ö–æ–ø—ñ—é—î–º–æ —Ç–µ–∫—Å—Ç —É –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É
  navigator.clipboard.writeText(displayValue).catch(err => {
    console.error('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è: ', err);
  });

  // –Ø–∫—â–æ –∑–≤—É–∫ —É–≤—ñ–º–∫–Ω–µ–Ω–æ (soundToggle.checked === true) - –ø—Ä–æ–≥—Ä–∞—î–º–æ
  if (soundToggle.checked) {
    clickSound.currentTime = 0;
    clickSound.play();
  }

  // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–æ–≤–Ω–æ–µ–∫—Ä–∞–Ω–Ω–æ–≥–æ –æ–≤–µ—Ä–ª–µ—é
  fullscreenOverlay.style.backgroundColor = colorObj.color;
  colorCodeDisplay.textContent = `${colorObj.name} (${displayValue})`;
  fullscreenOverlay.style.display = 'flex';
  fullscreenOverlay.style.opacity = '1';

  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –ø—Ä–∏—Ö–æ–≤—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ 2.5—Å + –ø–ª–∞–≤–Ω–µ –∑–Ω–∏–∫–∞–Ω–Ω—è
  setTimeout(() => {
    fullscreenOverlay.style.opacity = '0';
    setTimeout(() => {
      fullscreenOverlay.style.display = 'none';
    }, 500);
  }, 2500);
}

// –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É Back (–ø–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –¥–æ —Å–ø–∏—Å–∫—É –ø–∞–ª—ñ—Ç—Ä)
colorBackButton.addEventListener('click', () => {
  colorView.style.display = 'none';
  showPalettes();
});

// –ö–ª—ñ–∫ –Ω–∞ –æ–≤–µ—Ä–ª–µ–π –¥–ª—è –Ω–µ–≥–∞–π–Ω–æ–≥–æ –∑–∞–∫—Ä–∏—Ç—Ç—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
fullscreenOverlay.addEventListener('click', () => {
  fullscreenOverlay.style.opacity = '0';
  setTimeout(() => {
    fullscreenOverlay.style.display = 'none';
  }, 500);
});

// –î–æ–ø–æ–º—ñ–∂–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è: –∫–æ–Ω–≤–µ—Ä—Ç—É—î HEX —É —Ñ–æ—Ä–º–∞—Ç "rgb(r, g, b)"
function hexToRgb(hex) {
  let c = hex.replace('#','');
  if (c.length === 3) {
    // –Ø–∫—â–æ —Ñ–æ—Ä–º–∞—Ç #fff -> #ffffff
    c = c[0]+c[0]+c[1]+c[1]+c[2]+c[2];
  }
  const r = parseInt(c.substring(0,2),16);
  const g = parseInt(c.substring(2,4),16);
  const b = parseInt(c.substring(4,6),16);
  return `rgb(${r}, ${g}, ${b})`;
}


// –°—Ç–∞—Ä—Ç–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è
showPalettes();